{"remainingRequest":"/Users/bewe/Documents/ppta/subtically/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/bewe/Documents/ppta/subtically/web/src/components/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/bewe/Documents/ppta/subtically/web/src/components/login.vue","mtime":1619472728227},{"path":"/Users/bewe/Documents/ppta/subtically/web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/bewe/Documents/ppta/subtically/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/bewe/Documents/ppta/subtically/web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgICByZXF1aXJlZAp9IGZyb20gJ3ZlZS12YWxpZGF0ZS9kaXN0L3J1bGVzJwppbXBvcnQgewogICAgZXh0ZW5kLAogICAgVmFsaWRhdGlvbk9ic2VydmVyLAogICAgVmFsaWRhdGlvblByb3ZpZGVyLAogICAgc2V0SW50ZXJhY3Rpb25Nb2RlCn0gZnJvbSAndmVlLXZhbGlkYXRlJwoKc2V0SW50ZXJhY3Rpb25Nb2RlKCdlYWdlcicpCgpleHRlbmQoJ3JlcXVpcmVkJywgewogICAgLi4ucmVxdWlyZWQsCiAgICBtZXNzYWdlOiAne19maWVsZF99IHJlcXVpcmVkJywKfSkKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBWYWxpZGF0aW9uUHJvdmlkZXIsCiAgICAgICAgVmFsaWRhdGlvbk9ic2VydmVyLAogICAgfSwKICAgIGRhdGE6ICgpID0+ICh7CiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgICBsb2FkOiBmYWxzZSwKICAgIH0pLAoKICAgIG1ldGhvZHM6IHsKICAgICAgICBhc3luYyBzdWJtaXQoKSB7CiAgICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSBhd2FpdCB0aGlzLiRyZWZzLm9ic2VydmVyLnZhbGlkYXRlKCk7CiAgICAgICAgICAgICAgICBpZihpc1ZhbGlkKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRodHRwLnBvc3QodGhpcy4kYXBpVXJsICsgJy9sb2dpbicsIHsKICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvbGUgPSByZXNwb25zZS5kYXRhLnVzZXIucm9sZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJvbGU9PTEpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyb2xlJywgIkFETUlOIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihyb2xlPT0yKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncm9sZScsICJQRU5HQUpBUiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JvbGUnLCAiU0lTV0EiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyX2lkJywgcmVzcG9uc2UuZGF0YS51c2VyLmlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHJlc3BvbnNlLmRhdGEuYWNjZXNzX3Rva2VuKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogMTUwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnbGlzdFZpZGVvJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXIoKTsKICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdlcnJvcicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3JzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogMTUwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCn0K"},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <main>\n        <v-container fluid fill-height class=\"position\">\n            <v-layout flex align-center justify-center>\n                <v-flex xs12 sm3 elevation-6>\n                    <!-- <img src=\"../assets/logo.png\" id=\"gambar\"> -->\n                    <v-card align=\"center\" class=\"beg pl-6 pr-6 pb-1\">\n                        <v-card-title class=\"justify-center\">\n                            <h5 id=\"welcome\" class=\"mt-5\">Welcome,</h5>\n                        </v-card-title>\n                        <v-card-text>\n                            <img src=\"/assets/title.png\" height=\"50\" width=\"170\"/>\n                        </v-card-text>\n                        <!-- <ValidationObserver ref=\"observer\" v-slot=\"{ validate, reset }\"> -->\n                        <ValidationObserver ref=\"observer\" v-slot=\"{  }\">\n                            <v-form class=\"my-6\">\n                                <!-- <ValidationProvider v-slot=\"{ errors }\" name=\"username\" rules=\"required|max:50\"> -->\n                                <ValidationProvider v-slot=\"{ errors }\" name=\"username\" rules=\"required\">\n                                    <v-text-field v-model=\"username\" prepend-icon=\"mdi-human\" :counter=\"50\" :error-messages=\"errors\" label=\"Username\" required></v-text-field>\n                                </ValidationProvider>\n                                <ValidationProvider v-slot=\"{ errors }\" name=\"password\" rules=\"required|\">\n                                    <v-text-field v-model=\"password\" type=\"password\" prepend-icon=\"mdi-key\" :error-messages=\"errors\" label=\"Password\" required @keyup.enter=\"submit(); load =true\"></v-text-field>\n                                </ValidationProvider>\n                                <v-card-actions class=\"justify-center\">\n                                        <v-btn id=\"btn\" color=\"primary secondary--text\" @click=\"submit\">Login</v-btn>\n                                </v-card-actions>\n                            </v-form>\n                        </ValidationObserver>\n                    </v-card>\n                </v-flex>\n            </v-layout>\n        </v-container>\n    </main>\n</template>\n\n<style scoped>\n    @import url(\"https://fonts.googleapis.com/css?family=Amatic+SC\");\n    @import url(\"https://fonts.googleapis.com/css?family=Aclonica\");\n    /* html, body {\n        height: 100%;\n    } */\n    .beg {\n        background-color: #F5F5F5;\n    } \n\n    #btn {\n        width: 70%;\n    }\n\n    #welcome {\n        opacity: 0.6;\n        font-family: 'Aclonica'\n    }\n\n    .position {\n        position: absolute;\n        top: 20px;\n        left: 0px;\n        right: 0px;\n    }\n</style>\n\n<script>\nimport {\n    required\n} from 'vee-validate/dist/rules'\nimport {\n    extend,\n    ValidationObserver,\n    ValidationProvider,\n    setInteractionMode\n} from 'vee-validate'\n\nsetInteractionMode('eager')\n\nextend('required', {\n    ...required,\n    message: '{_field_} required',\n})\n\nexport default {\n    components: {\n        ValidationProvider,\n        ValidationObserver,\n    },\n    data: () => ({\n        username: '',\n        password: '',\n        load: false,\n    }),\n\n    methods: {\n        async submit() {\n            const isValid = await this.$refs.observer.validate();\n                if(isValid){\n                    this.$http.post(this.$apiUrl + '/login', {\n                        username: this.username,\n                        password: this.password\n                    }).then(response => {\n                        const role = response.data.user.role;\n                            if(role==1){\n                                localStorage.setItem('role', \"ADMIN\");\n                            }else if(role==2){\n                                localStorage.setItem('role', \"PENGAJAR\");\n                            }else{\n                                localStorage.setItem('role', \"SISWA\");\n                            }\n                            localStorage.setItem('user_id', response.data.user.id);\n                            localStorage.setItem('token', response.data.access_token);\n                            this.$swal({\n                                icon: 'success',\n                                title: response.data.message,\n                                showConfirmButton: false,\n                                timer: 1500\n                            })\n                            this.$router.push({\n                                name: 'listVideo'\n                            })\n                            this.clear();\n                    }).catch(error => {\n                        this.$swal({\n                                icon: 'error',\n                                title: error.response.data.errors,\n                                showConfirmButton: false,\n                                timer: 1500\n                            })\n                        this.load = false\n                    })\n                }\n        }\n    },\n}\n</script>\n"]}]}