{"remainingRequest":"/Users/bewe/Documents/ppta/subtically/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/bewe/Documents/ppta/subtically/web/src/components/user/listController.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/bewe/Documents/ppta/subtically/web/src/components/user/listController.vue","mtime":1619472908908},{"path":"/Users/bewe/Documents/ppta/subtically/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/bewe/Documents/ppta/subtically/web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/bewe/Documents/ppta/subtically/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/bewe/Documents/ppta/subtically/web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbG9hZDogZmFsc2UsCiAgICAgICAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgICAgICAgIGRpYWxvZ0RldGFpbDogZmFsc2UsCiAgICAgICAgICAgIHR5cGVJbnB1dDogJ1RhbWJhaCcsCiAgICAgICAgICAgIHJvbGU6ICcnLAogICAgICAgICAgICBrZXl3b3JkOiAnJywKICAgICAgICAgICAgaGVhZGVyczogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHRleHQ6ICdOYW1lJywKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ25hbWUnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHRleHQ6ICdVc2VybmFtZScsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICd1c2VybmFtZScKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0VtYWlsJywKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ2VtYWlsJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnUm9sZScsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdyb2xlJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnQWN0aW9uJywKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxNTAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIHVzZXJzOiBbXSwKICAgICAgICAgICAgamVuaXNIZXdhbjogW10sCiAgICAgICAgICAgIGN1c3RvbWVyOiBbXSwKICAgICAgICAgICAgZm9ybTogewogICAgICAgICAgICAgICAgaWRfamVuaXM6ICcnLAogICAgICAgICAgICAgICAgaWRfY3VzdG9tZXI6ICcnLAogICAgICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgICAgICB0YW5nZ2FsX2xhaGlyOiAnJywKICAgICAgICAgICAgICAgIGNyZWF0ZWRfYnk6ICcnLAogICAgICAgICAgICAgICAgdXBkYXRlZF9ieTogJycsCiAgICAgICAgICAgICAgICBkZWxldGVfYnk6ICcnLAogICAgICAgICAgICB9LAogICAgICAgICAgICBkZXRhaWw6IHsKICAgICAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICAgICAgZGl1YmFoOiAnJywKICAgICAgICAgICAgICAgIGRpdWJhaG9sZWg6ICcnLAogICAgICAgICAgICAgICAgZGlidWF0OiAnJywKICAgICAgICAgICAgICAgIGRpYnVhdG9sZWg6ICcnLAogICAgICAgICAgICB9LAogICAgICAgICAgICB1cGRhdGVkSWQ6ICcnLAogICAgICAgICAgICBlcnJvcnM6ICcnLAogICAgICAgICAgICB1c2VyOiBuZXcgRm9ybURhdGEsCiAgICAgICAgICAgIG1lbnUyOiBmYWxzZSwKICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBmb3JtVGl0bGUoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnR5cGVJbnB1dAogICAgICAgIH0sCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGNsb3NlKCkgewogICAgICAgICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMudHlwZUlucHV0ID0gJ1RhbWJhaCc7CiAgICAgICAgfSwKICAgICAgICBjbGVhcigpIHsKICAgICAgICAgICAgdGhpcy5yZXNldEZvcm0oKTsKICAgICAgICB9LAogICAgICAgIHJlYWREZXRhaWwoaXRlbSkgewogICAgICAgICAgICB0aGlzLmRpYWxvZ0RldGFpbCA9IHRydWUKICAgICAgICAgICAgdGhpcy5kZXRhaWwuY3JlYXRlZF9hdCA9IGl0ZW0uY3JlYXRlZF9hdAogICAgICAgICAgICB0aGlzLmRldGFpbC51cGRhdGVkX2F0ID0gaXRlbS51cGRhdGVkX2F0CiAgICAgICAgfSwKICAgICAgICByZWFkRGF0YSgpIHsKICAgICAgICAgICAgdmFyIHVyaSA9IHRoaXMuJGFwaVVybCArICcvdXNlcnMnCiAgICAgICAgICAgIHRoaXMuJGh0dHAuZ2V0KHVyaSwgewogICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgJyArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgIHRoaXMudXNlcnMgPSByZXNwb25zZS5kYXRhCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBkZWxldGVEYXRhKGRlbGV0ZUlkKSB7CiAgICAgICAgICAgIHZhciB1cmkgPSB0aGlzLiRhcGlVcmwgKyAnL3VzZXJzLycgKyBkZWxldGVJZDsKICAgICAgICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgICAgICAgICB0aXRsZTogJ1dhcm5pbmchJywKICAgICAgICAgICAgICAgIHRleHQ6ICdBcmUgeW91IHN1cmU/JywKICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAnI0ZGNTI1MicsCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjQkRCREJEJywKICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICdZZXMhJywKICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnTm8nLAogICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICAgIGFsbG93RXNjYXBlS2V5OiBmYWxzZSwKICAgICAgICAgICAgICAgIC8vIHJldmVyc2VCdXR0b25zOiB0cnVlLAogICAgICAgICAgICAgICAgYWxsb3dPdXRzaWRlQ2xpY2s6IGZhbHNlLAogICAgICAgICAgICAgICAgZGFuZ2VyTW9kZTogdHJ1ZSwKICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdC52YWx1ZSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZCA9IHRydWUKICAgICAgICAgICAgICAgICAgICB0aGlzLiRodHRwLmRlbGV0ZSh1cmksIHsKICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyICcgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogMTUwMAogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkRGF0YSgpOwogICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdlcnJvcicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1dhcm5pbmcgIScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLmVycm9ycywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAxNTAwCiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBzZXRGb3JtKCkgewogICAgICAgICAgICBpZiAodGhpcy50eXBlSW5wdXQgPT09ICdUYW1iYWgnKSB7CiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZURhdGEoKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVEYXRhKCkKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc2V0Um9sZSgpIHsKICAgICAgICAgICAgdGhpcy5yb2xlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3JvbGUnKTsKICAgICAgICB9LAogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5yZWFkRGF0YSgpOwogICAgICAgIC8vIHRoaXMuc2V0Um9sZSgpOwogICAgfSwKfQo="},{"version":3,"sources":["listController.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"listController.vue","sourceRoot":"src/components/user","sourcesContent":["<template>\n    <v-container dark>\n        <v-container grid-list-md mb-0>\n            <h1 class=\"text-md-center\" style=\"font-family: 'Share Tech Mono';text-shadow: -2px 4px 4px silver\">Users List</h1>\n            <v-layout row wrap style=\"margin:10px\">\n                <v-dialog v-model=\"dialog\" persistent max-width=\"500px\">\n                    <template v-slot:activator=\"{ on }\">\n                        <v-flex class=\"flex\" xs8 style=\"float:right;widht:300\">\n                            <v-btn class=\"mx-2\" color=\"primary\" v-on=\"on\" router to=\"/users/store\">\n                                New User\n                            </v-btn>\n                        </v-flex>\n                        <v-divider class=\"mx-1\" inset vertical></v-divider>\n                        <v-flex xs4 >\n                            <v-text-field v-model=\"keyword\" append-icon=\"mdi-magnify\" label=\"Search\" single-line hide-details></v-text-field>\n                        </v-flex>\n                    </template>\n                </v-dialog>\n                <v-dialog v-model=\"dialogDetail\" max-width=\"524px\">\n                    <v-card>\n                        <v-card-title>\n                            <span class=\"headline text-md-center\">Detail Data {{ this.detail.username }}</span>\n                        </v-card-title>\n                        <v-card-text>\n                            <v-container>\n                                <tbody>\n                                    <ul>\n                                        <ul># <strong>Created at : </strong>{{ this.detail.created_at }}</ul>\n                                        <ul># <strong>Updated at : </strong>{{ this.detail.updated_at?this.detail.updated_at:'-' }}</ul>\n                                        <!-- <ul># <strong>Deleted at : </strong>{{ this.detail.deleted_at?this.detail.deleted_at:'-' }}</ul> -->\n                                    </ul>\n                                </tbody>\n                            </v-container>\n                        </v-card-text>\n                        <v-card-actions>\n                            <v-btn class=\"text-md-right\" color=\"primary\" text @click=\"dialogDetail = false\">Close</v-btn>\n                        </v-card-actions>\n                    </v-card>\n                </v-dialog>\n            </v-layout>\n            <v-data-table :headers=\"headers\" :items-per-page=\"5\" :items=\"users\" :sort-by=\"'updated_at'\" :sort-desc=\"true\" :search=\"keyword\" :loading=\"load\" no-data-text=\"Data kosong\" light>\n                <template v-slot:body=\"{ items }\">\n                    <tbody v-if=\"items.length!=0\">\n                        <tr v-for=\"item in items\" :key=\"item.id\">\n                            <td>{{ item.name }}</td>\n                            <td>{{ item.username }}</td>\n                            <td>{{ item.email }}</td>\n                            <td v-if=\"item.role=='1'\"> Admin </td>\n                            <td v-if=\"item.role=='2'\"> Pengajar </td>\n                            <td v-if=\"item.role=='3'\"> Siswa </td>\n                            <td >\n                                <div class=\"text-center\">\n                                    <v-btn icon color=\"blue lighten-2\" @click=\"readDetail(item)\">\n                                        <v-icon>mdi-arrow-down</v-icon>\n                                    </v-btn>    \n                                    <v-btn v-if=\"role!='OWNER'\" icon color=\"amber accent-3\">\n                                        <router-link class=\"routerLink\" :to=\"{ name: 'updateUser', params: { id: item.id } }\">\n                                            <v-icon>mdi-pencil</v-icon>\n                                        </router-link>\n                                    </v-btn>\n                                    <v-btn v-if=\"role!='OWNER'\" icon color=\"red accent-2\" @click=\"deleteData(item.id)\">\n                                        <v-icon>mdi-delete-empty</v-icon>\n                                    </v-btn>\n                                </div>\n                            </td>\n                        </tr>\n                    </tbody>\n                    <tbody v-else>\n                        <td :colspan=\"headers.length\" class=\"text-center\">Empty Data</td>\n                    </tbody>\n                </template>\n            </v-data-table>\n        </v-container>\n    </v-container>\n</template>\n\n<style scoped>\n    @import url(\"https://fonts.googleapis.com/css?family=Share+Tech+Mono\");\n\n    table th + th { border-left:1px solid #dddddd; }\n    table td + td { border-left:1px solid #dddddd; }\n    tbody tr:nth-of-type(odd) {\n        background-color: rgba(0, 0, 0, .05);\n    }\n    \n    .routerLink{\n        text-decoration: none;\n        color: inherit;\n    }\n\n    .v-data-table\n    /deep/\n    tbody\n    /deep/\n    tr:hover:not(.v-data-table__expanded__content) {\n        background: #8797a8 !important;\n    }\n\n    .v-select__selections {\n        max-width: 150px;\n        min-width: 100px;\n        border: none;\n    }\n\n    .flex {\n        display: -webkit-box;\n        display: -moz-box;\n        display: -ms-flexbox;\n        display: -webkit-flex;\n        display: flex;\n    }\n</style>\n\n<script>\n    export default {\n        data() {\n            return {\n                load: false,\n                dialog: false,\n                dialogDetail: false,\n                typeInput: 'Tambah',\n                role: '',\n                keyword: '',\n                headers: [\n                    {\n                        text: 'Name',\n                        value: 'name'\n                    },\n                    {\n                        text: 'Username',\n                        value: 'username'\n                    },\n                    {\n                        text: 'Email',\n                        value: 'email'\n                    },\n                    {\n                        text: 'Role',\n                        value: 'role'\n                    },\n                    {\n                        text: 'Action',\n                        value: null,\n                        sortable: false,\n                        align: 'center',\n                        width: 150\n                    },\n                ],\n                users: [],\n                jenisHewan: [],\n                customer: [],\n                form: {\n                    id_jenis: '',\n                    id_customer: '',\n                    name: '',\n                    tanggal_lahir: '',\n                    created_by: '',\n                    updated_by: '',\n                    delete_by: '',\n                },\n                detail: {\n                    name: '',\n                    diubah: '',\n                    diubaholeh: '',\n                    dibuat: '',\n                    dibuatoleh: '',\n                },\n                updatedId: '',\n                errors: '',\n                user: new FormData,\n                menu2: false,\n            }\n        },\n        computed: {\n            formTitle() {\n                return this.typeInput\n            },\n        },\n        methods: {\n            close() {\n                this.dialog = false\n                this.typeInput = 'Tambah';\n            },\n            clear() {\n                this.resetForm();\n            },\n            readDetail(item) {\n                this.dialogDetail = true\n                this.detail.created_at = item.created_at\n                this.detail.updated_at = item.updated_at\n            },\n            readData() {\n                var uri = this.$apiUrl + '/users'\n                this.$http.get(uri, {\n                            headers: {\n                                'Authorization': 'Bearer ' + localStorage.getItem('token')\n                            }\n                        }).then(response => {\n                    this.users = response.data\n                })\n            },\n            deleteData(deleteId) {\n                var uri = this.$apiUrl + '/users/' + deleteId;\n                this.$swal({\n                    title: 'Warning!',\n                    text: 'Are you sure?',\n                    icon: 'warning',\n                    cancelButtonColor: '#FF5252',\n                    confirmButtonColor: '#BDBDBD',\n                    cancelButtonText: 'Yes!',\n                    confirmButtonText: 'No',\n                    showCancelButton: true,\n                    allowEscapeKey: false,\n                    // reverseButtons: true,\n                    allowOutsideClick: false,\n                    dangerMode: true,\n                }).then((result) => {\n                    if (!result.value) {\n                        this.load = true\n                        this.$http.delete(uri, {\n                            headers: {\n                                'Authorization': 'Bearer ' + localStorage.getItem('token')\n                            }\n                        }).then(response => {\n                        this.$swal({\n                            icon: 'success',\n                            title: response.data.message,\n                            showConfirmButton: false,\n                            timer: 1500\n                        })\n                        this.readData();\n                        this.load = false;\n                        }).catch(error => {\n                            this.errors = error\n                            this.$swal({\n                                icon: 'error',\n                                title: 'Warning !',\n                                text: this.errors,\n                                showConfirmButton: false,\n                                timer: 1500\n                            })\n                            this.load = false;\n                        })\n                    }\n                })\n            },\n            setForm() {\n                if (this.typeInput === 'Tambah') {\n                    this.createData()\n                } else {\n                    this.updateData()\n                }\n            },\n            setRole() {\n                this.role = localStorage.getItem('role');\n            },\n        },\n        mounted() {\n            this.readData();\n            // this.setRole();\n        },\n    }\n</script>"]}]}