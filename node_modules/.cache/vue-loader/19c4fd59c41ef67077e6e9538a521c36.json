{"remainingRequest":"/Users/bewe/Documents/ppta/subtically/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/bewe/Documents/ppta/subtically/web/src/components/video/updateController.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/bewe/Documents/ppta/subtically/web/src/components/video/updateController.vue","mtime":1618520155903},{"path":"/Users/bewe/Documents/ppta/subtically/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/bewe/Documents/ppta/subtically/web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/bewe/Documents/ppta/subtically/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/bewe/Documents/ppta/subtically/web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHJlcXVpcmVkIH0gZnJvbSAndmVlLXZhbGlkYXRlL2Rpc3QvcnVsZXMnCmltcG9ydCB7IGV4dGVuZCwgVmFsaWRhdGlvbk9ic2VydmVyLCBWYWxpZGF0aW9uUHJvdmlkZXIsIHNldEludGVyYWN0aW9uTW9kZSB9IGZyb20gJ3ZlZS12YWxpZGF0ZScKc2V0SW50ZXJhY3Rpb25Nb2RlKCdlYWdlcicpCgpleHRlbmQoJ3JlcXVpcmVkJywgewogICAgLi4ucmVxdWlyZWQsCiAgICBtZXNzYWdlOiAne19maWVsZF99IGlzIHJlcXVpcmVkLicKfSkKZXhwb3J0IGRlZmF1bHQgewogICAgY29tcG9uZW50czogewogICAgICAgIFZhbGlkYXRpb25Qcm92aWRlciwKICAgICAgICBWYWxpZGF0aW9uT2JzZXJ2ZXIsCiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBsb2FkOiBmYWxzZSwKICAgICAgICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgICAgICAgY2VrVmlkZW86IGZhbHNlLAogICAgICAgICAgICB0eXBlSW5wdXQ6ICdVcGRhdGUnLAogICAgICAgICAgICBsYW5ndWFnZUxpc3QgOiBbCiAgICAgICAgICAgICAgICB7IGNvZGUgOiAnZW4tRU4nLCBuYW1lIDogJ0VuZ2xpc2gnIH0sCiAgICAgICAgICAgICAgICB7IGNvZGUgOiAnaWQtSUQnLCBuYW1lIDogJ0luZG9uZXNpYW4nIH0sCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIGZvcm06IHsKICAgICAgICAgICAgICAgIHRpdGxlOiAnJywKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICAgICAgICAgIHZpZGVvOiBbXSwKICAgICAgICAgICAgICAgIGxhbmd1YWdlOiAnJywKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdXBkYXRlZElkOiAnJywKICAgICAgICAgICAgZXJyb3JzOiAnJywKICAgICAgICAgICAgdmlkZW86IG5ldyBGb3JtRGF0YSwKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGNsZWFyKCkgewogICAgICAgICAgICB0aGlzLnJlYWREYXRhKCk7CiAgICAgICAgfSwKICAgICAgICByZWFkRGF0YSgpIHsKICAgICAgICAgICAgdmFyIHVyaSA9IHRoaXMuJGFwaVVybCArICcvdmlkZW9zLycrdGhpcy4kcm91dGUucGFyYW1zLmlkCiAgICAgICAgICAgIHRoaXMuJGh0dHAuZ2V0KHVyaSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHJlc3BvbnNlLmRhdGFbMF0KICAgICAgICAgICAgICAgIHRoaXMuZm9ybS50aXRsZSA9IGl0ZW0udGl0bGUKICAgICAgICAgICAgICAgIHRoaXMuZm9ybS52aWRlbyA9IGl0ZW0udmlkZW8uc3BsaXQoJ1xcJykucG9wKCkuc3BsaXQoJy8nKS5wb3AoKQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5mb3JtLnZpZGVvKQogICAgICAgICAgICAgICAgdGhpcy5mb3JtLmxhbmd1YWdlID0gaXRlbS5sYW5ndWFnZQogICAgICAgICAgICAgICAgdGhpcy5mb3JtLmRlc2NyaXB0aW9uID0gaXRlbS5kZXNjcmlwdGlvbgogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgY2hlY2tGb3JtKCkgewogICAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gYXdhaXQgdGhpcy4kcmVmcy5vYnNlcnZlci52YWxpZGF0ZSgpOwogICAgICAgICAgICBpZihpc1ZhbGlkKXsKICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRGF0YSgpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGFzeW5jIHVwZGF0ZURhdGEoKSB7CiAgICAgICAgICAgIHRoaXMudmlkZW8uYXBwZW5kKCd0aXRsZScsIHRoaXMuZm9ybS50aXRsZSk7CiAgICAgICAgICAgIGlmKHRoaXMuY2VrVmlkZW8pewogICAgICAgICAgICAgICAgdGhpcy52aWRlby5hcHBlbmQoJ3ZpZGVvJywgIi91cGxvYWRzL3ZpZGVvcy8iK3RoaXMuZm9ybS52aWRlby5uYW1lKTsKICAgICAgICAgICAgICAgIHRoaXMudmlkZW8uYXBwZW5kKCd0aHVtYm5haWwnLCB0aGlzLmZvcm0udmlkZW8ubmFtZS5zcGxpdCgnLicpWzBdKyIuanBnIik7CiAgICAgICAgICAgICAgICB0aGlzLnZpZGVvLmFwcGVuZCgnZmlsZScsIHRoaXMuZm9ybS52aWRlbyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMudmlkZW8uYXBwZW5kKCd2aWRlbycsIHRoaXMuZm9ybS52aWRlbyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy52aWRlby5hcHBlbmQoJ2xhbmd1YWdlJywgdGhpcy5mb3JtLmxhbmd1YWdlKTsKICAgICAgICAgICAgdGhpcy52aWRlby5hcHBlbmQoJ2Rlc2NyaXB0aW9uJywgdGhpcy5mb3JtLmRlc2NyaXB0aW9uKTsKCiAgICAgICAgICAgIC8vIHRoaXMuJFByb2dyZXNzLnN0YXJ0KCk7CiAgICAgICAgICAgIHZhciB1cmkgPSB0aGlzLiRhcGlVcmwgKyAnL3ZpZGVvcy8nK3RoaXMuJHJvdXRlLnBhcmFtcy5pZAogICAgICAgICAgICB0aGlzLiRzd2FsKHsKICAgICAgICAgICAgICAgICAgICBpY29uOiAnaW5mbycsCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdQcm9jZXNzaW5nLi4nLAogICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICBhbGxvd091dHNpZGVDbGljazogZmFsc2UsCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICBsZXQgeW9sbyA9IGF3YWl0IHRoaXMuJGh0dHAucG9zdCh1cmksIHRoaXMudmlkZW8sIHsKICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciAnICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHlvbG8pCiAgICAgICAgICAgICAgICB0aGlzLiRzd2FsKHsKICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgdGltZXI6IDE1MDAKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB0aGlzLnJlYWREYXRhKCk7IC8vcmVmcmVzaCBkYXRhIGluaQogICAgICAgICAgICAgICAgLy8gdGhpcy4kUHJvZ3Jlc3MuZmluaXNoKCk7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ215VmlkZW8nCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmVycm9ycyA9IGVycm9yCiAgICAgICAgICAgICAgICB0aGlzLiRzd2FsKHsKICAgICAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnV2FybmluZyAhJywKICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLmVycm9ycywKICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgdGltZXI6IDE1MDAKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB0aGlzLmxvYWQgPSBmYWxzZTsKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5yZWFkRGF0YSgpOwogICAgfSwKfQo="},{"version":3,"sources":["updateController.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"updateController.vue","sourceRoot":"src/components/video","sourcesContent":["<template>\n    <v-container dark>\n        <vue-progress-bar></vue-progress-bar>\n        <v-container grid-list-md mb-0>\n            <h1 class=\"text-md-center\" style=\"font-family: 'Share Tech Mono';text-shadow: -2px 4px 4px silver\">Update Video</h1>\n            <v-layout row wrap style=\"margin:10px\">\n                <v-dialog v-model=\"dialog\" persistent max-width=\"500px\">\n                    <template v-slot:activator=\"{ on }\">\n                        <v-flex class=\"flex\" xs8 style=\"float:right;widht:300\">\n                            <v-btn class=\"mx-2\" fab color=\"primary\" v-on=\"on\" router to=\"/my-videos\">\n                                Back\n                            </v-btn>\n                        </v-flex>\n                    </template>\n                </v-dialog>\n            </v-layout>\n            <v-card>\n                <v-card-text>\n                    <v-container>\n                        <ValidationObserver ref=\"observer\" v-slot=\"{  }\">\n                            <v-form>\n                                <v-row>\n                                    <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                                        <ValidationProvider v-slot=\"{ errors }\" name='Title' rules=\"required\">\n                                            <v-text-field \n                                                v-model=\"form.title\" \n                                                label=\"Title\" \n                                                :error-messages=\"errors\"\n                                            />\n                                        </ValidationProvider>\n                                    </v-col>\n                                    <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                                            <ValidationProvider v-slot=\"{ errors }\" name=\"Description\" rules=\"required\">\n                                                <v-textarea\n                                                v-model=\"form.description\"\n                                                :error-messages=\"errors\"\n                                                clearable\n                                                counter\n                                                label=\"Description\"\n                                                required\n                                                ></v-textarea>\n                                            </ValidationProvider>\n                                    </v-col>\n                                    <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                                        <v-checkbox\n                                            v-model=\"cekVideo\"\n                                            label=\"Change video?\"\n                                            color=\"primary\"\n                                            hide-details\n                                        ></v-checkbox>\n                                    </v-col>\n                                \n                                    <v-col v-if=\"cekVideo\" cols=\"5\" sm=\"6\" md=\"6\">\n                                        <ValidationProvider v-slot=\"{ errors }\" name=\"Video\" rules=\"required\">  \n                                            <v-file-input\n                                                v-model=\"form.video\"\n                                                :error-messages=\"errors\"\n                                                accept=\"video/*\"\n                                                label=\"File input\"\n                                                required\n                                            ></v-file-input>\n                                        </ValidationProvider>\n                                    </v-col>\n                                    <v-col v-else cols=\"12\" sm=\"12\" md=\"12\">\n                                        <v-text-field label=\"File input\" :value=\"form.video\" disabled></v-text-field>\n                                    </v-col>\n\n                                    <v-col v-if=\"cekVideo\" cols=\"6\" sm=\"6\" md=\"6\">\n                                        <ValidationProvider v-slot=\"{ errors }\" name=\"Language\" rules=\"required\">\n                                            <v-autocomplete\n                                                v-model=\"form.language\"\n                                                :items=\"languageList\"\n                                                :error-messages=\"errors\"\n                                                item-value=\"code\"\n                                                item-text=\"name\"\n                                                label=\"Language\"\n                                                hint=\"Select the language that you use in the video\"\n                                                persistent-hint\n                                                required\n                                                hide-selected\n                                                clearable>\n                                            </v-autocomplete>\n                                        </ValidationProvider>\n                                    </v-col>\n                                </v-row>\n                            </v-form>\n                        </ValidationObserver>\n                    </v-container>\n                </v-card-text>\n                <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"red accent-2\" text @click=\"clear\">Reset</v-btn>\n                    <v-btn color=\"primary\" text @click=\"checkForm()\">Save</v-btn>\n                </v-card-actions>\n            </v-card>\n        </v-container>\n    </v-container>\n</template>\n\n<style scoped>\n    @import url(\"https://fonts.googleapis.com/css?family=Share+Tech+Mono\");\n\n    table th + th { border-left:1px solid #dddddd; }\n    table td + td { border-left:1px solid #dddddd; }\n    tbody tr:nth-of-type(odd) {\n        background-color: rgba(0, 0, 0, .05);\n    }\n    \n    .v-data-table\n    /deep/\n    tbody\n    /deep/\n    tr:hover:not(.v-data-table__expanded__content) {\n        background: #8797a8 !important;\n    }\n\n    .v-select__selections {\n        max-width: 150px;\n        min-width: 100px;\n        border: none;\n    }\n\n    .flex {\n        display: -webkit-box;\n        display: -moz-box;\n        display: -ms-flexbox;\n        display: -webkit-flex;\n        display: flex;\n    }\n</style>\n\n<script>\n    import { required } from 'vee-validate/dist/rules'\n    import { extend, ValidationObserver, ValidationProvider, setInteractionMode } from 'vee-validate'\n    setInteractionMode('eager')\n\n    extend('required', {\n        ...required,\n        message: '{_field_} is required.'\n    })\n    export default {\n        components: {\n            ValidationProvider,\n            ValidationObserver,\n        },\n        data() {\n            return {\n                load: false,\n                dialog: false,\n                cekVideo: false,\n                typeInput: 'Update',\n                languageList : [\n                    { code : 'en-EN', name : 'English' },\n                    { code : 'id-ID', name : 'Indonesian' },\n                ],\n                form: {\n                    title: '',\n                    description: '',\n                    video: [],\n                    language: '',\n                },\n                updatedId: '',\n                errors: '',\n                video: new FormData,\n            }\n        },\n        methods: {\n            clear() {\n                this.readData();\n            },\n            readData() {\n                var uri = this.$apiUrl + '/videos/'+this.$route.params.id\n                this.$http.get(uri).then(response => {\n                    var item = response.data[0]\n                    this.form.title = item.title\n                    this.form.video = item.video.split('\\\\').pop().split('/').pop()\n                    // console.log(this.form.video)\n                    this.form.language = item.language\n                    this.form.description = item.description\n                })\n            },\n            async checkForm() {\n                const isValid = await this.$refs.observer.validate();\n                if(isValid){\n                    this.updateData()\n                }\n            },\n            async updateData() {\n                this.video.append('title', this.form.title);\n                if(this.cekVideo){\n                    this.video.append('video', \"/uploads/videos/\"+this.form.video.name);\n                    this.video.append('thumbnail', this.form.video.name.split('.')[0]+\".jpg\");\n                    this.video.append('file', this.form.video);\n                }\n                else{\n                    this.video.append('video', this.form.video);\n                }\n                this.video.append('language', this.form.language);\n                this.video.append('description', this.form.description);\n\n                // this.$Progress.start();\n                var uri = this.$apiUrl + '/videos/'+this.$route.params.id\n                this.$swal({\n                        icon: 'info',\n                        title: 'Processing..',\n                        showConfirmButton: false,\n                        allowOutsideClick: false,\n                    })\n                let yolo = await this.$http.post(uri, this.video, {\n                        headers: {\n                            'Authorization': 'Bearer ' + localStorage.getItem('token')\n                        }\n                    }).then(response => {\n                    console.log(yolo)\n                    this.$swal({\n                        icon: 'success',\n                        title: response.data.message,\n                        showConfirmButton: false,\n                        timer: 1500\n                    })\n                    this.readData(); //refresh data ini\n                    // this.$Progress.finish();\n                    this.$router.push({\n                        name: 'myVideo'\n                    })\n                }).catch(error => {\n                    this.errors = error\n                    this.$swal({\n                        icon: 'error',\n                        title: 'Warning !',\n                        text: this.errors,\n                        showConfirmButton: false,\n                        timer: 1500\n                    })\n                    this.load = false;\n                })\n            },\n        },\n        mounted() {\n            this.readData();\n        },\n    }\n</script>"]}]}